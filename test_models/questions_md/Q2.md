### Q2

** A program to be developed for performing mathematical operations on two complex num-

bers; *z*1 = *a* + *ib* and *z*2 = *c* + *id*. Operations are to be implemented via corresponding

functions of given prototypes, as specified below. Each function returns the resulting com-

plex number of the corresponding operation on input complex numbers *z*1 and *z*2. The

structure sC represents a complex number.

Mathematical Operation

Function Prototype

*z*1 + *z*2 = (*a* + *c*) + *i*(*b* + *d*)

**struct** sC Add(**struct** sC z1, **struct** sC z2)

*z*1 *−**z*2 = (*a* *−**c*) + *i*(*b* *−**d*)

**struct** sC Sub(**struct** sC z1, **struct** sC z2)

*z*1 *∗**z*2 = (*ac* *−**bd*) + *i*(*ad* + *bc*)

**struct** sC Mul(**struct** sC z1, **struct** sC z2)

*z*1*/z*2 = (*ac* + *bd*)

(*cc* + *dd*) + *i*(*bc* *−**ad*)

(*cc* + *dd*)

**struct** sC Div(**struct** sC z1, **struct** sC z2)

a)

i.

Define (give implementation of) the structure sC with necessary members to

represent a complex number.

Answer **struct** sC *{* **double** re; **double** im;*}*

ii.

Define the function of prototype **struct** sC Add(**struct** sC z1, **struct** sC z2);

for adding *z*1 and *z*2.

Answer

**struct** sC Add( **struct** sC z1 ,

**struct** sC z2 )

*{*

**struct** sC z ;

z . re = z1 . re + z2 . re ;

z . im = z1 . im + z2 . im ;

**return** z ;

*}*

[4 Marks]

b)

i.

Define (Implement) the function of prototype **struct** sC setC(**void**);. It allows

user to enter a complex number from standard input using scanf(), and then

returns the user entered complex number.

Answer

**struct** sC setC ()

*{*

**struct** sC z ;

p r i n t f ("Re = " ) ; scanf ("%f" , &z . re ) ;

p r i n t f ("Im = " ) ; scanf ("%f" , &z . im ) ;

**return** z ;

*}*

ii.

Define the function **int** getMenuItem(**void**); which displays menu,

a-Add, s-Subtract, m-Multiply, d-Divide, q-Quit

and returns the user’s choice (a,s, m, d or q).

[2 Marks]

Answer

**int** getMenuItem ()

*{*

**int** key ;

p r i n t f ("a-Add, s-Substract , m-Multiply , d-Divide, q-Quit" ) ;

scanf ("%d" , &key ) ;

**return** key ;

*}*

c)

Write the code snippet by using above mentioned functions (assume they are well

defined) together with control structures **do***{}***while**(); and **switch**()*{}* to perform

the mathematical operation of user’s choice. *z*1 and *z*2 are also entered by the user.

After the results of the operation is displayed, menu is displayed again. Choice of q

ends the program.

[2 Marks]

Answer

**int** mItem ;

**struct** z ,

z1 ,

z2 ;

**do**

*{*

mItem=getMenuItem ( ) ;

**switch** (mItem)

*{*

**case** ’a’ :

z1 = setC ( ) ;

z1 = setC ( ) ;

z = Add( z1 , z2 ) ;

p r i n t f ("Z1+Z2 = %d + i %d" , z . re ,

z . im ) ;

**break** ;

**case** ’s’ :

z1 = setC ( ) ;

z1 = setC ( ) ;

z = Sum( z1 , z2 ) ;

p r i n t f ("Z1-Z2 = %d + i %d" , z . re ,

z . im ) ;

**break** ;

**case** ’m’ :

z1 = setC ( ) ;

z1 = setC ( ) ;

z = Mul( z1 , z2 ) ;

p r i n t f ("Z1 x Z2 = %d + i %d" , z . re ,

z . im ) ;

**break** ;

**case** ’d’ :

z1 = setC ( ) ;

z1 = setC ( ) ;

z = Div ( z1 , z2 ) ;

p r i n t f ("Z1 / Z2 = %d + i %d" , z . re ,

z . im ) ;

**break** ;

*}*

*}*

**while** (k!=’q’ ) ;

d)

Define of the function for subtraction if the function prototype is

**struct** sC \* Sub(**struct** sC \* z1, **struct** sC \*z2);

[1 Mark]

Answer

**struct** sC \* Sub( **struct** sC\*z1 ,

**struct** sC \* z2 )

*{*

**struct** sC \* z = new **struct** sC ;

z=*>*re = z1=*>*re + z2=*>*re ;

z=*>*im = z1=*>*im + z2=*>*im ;

**return** \*z ;

*}*

**